---
openapi: 3.0.1
info:
  title: api
  version: ""
paths:
  /v1/balance/:
    get:
      description: Get account balance showing available balance and pending charges
      operationId: balance_getBalance
      tags:
        - Balance
      parameters: []
      responses:
        "200":
          description: ""
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Balance'
        "404":
          description: ""
      security:
        - BearerAuth: []
  /v1/categories/:
    post:
      description: Create a new category
      operationId: categories_createCategory
      tags:
        - Categories
      parameters: []
      responses:
        "200":
          description: ""
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Category'
        "409":
          description: ""
      security:
        - BearerAuth: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/CreateCategoryRequest'
    get:
      description: Get all categories for the authenticated user
      operationId: categories_listCategories
      tags:
        - Categories
      parameters: []
      responses:
        "200":
          description: ""
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/Category'
      security:
        - BearerAuth: []
  /v1/categories/{category_id}:
    get:
      description: Get a specific category by ID
      operationId: categories_getCategory
      tags:
        - Categories
      parameters:
        - name: category_id
          in: path
          description: ID of the category
          required: true
          schema:
            type: string
            format: uuid
      responses:
        "200":
          description: ""
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Category'
        "404":
          description: ""
      security:
        - BearerAuth: []
    put:
      description: Update an existing category
      operationId: categories_updateCategory
      tags:
        - Categories
      parameters:
        - name: category_id
          in: path
          description: ID of the category to update
          required: true
          schema:
            type: string
            format: uuid
      responses:
        "200":
          description: ""
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Category'
        "404":
          description: ""
        "409":
          description: ""
      security:
        - BearerAuth: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/UpdateCategoryRequest'
    delete:
      description: Delete a category (this will also remove all transcription associations)
      operationId: categories_deleteCategory
      tags:
        - Categories
      parameters:
        - name: category_id
          in: path
          description: ID of the category to delete
          required: true
          schema:
            type: string
            format: uuid
      responses:
        "200":
          description: Returns success message
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/DeleteCategoryResponse'
        "404":
          description: ""
      security:
        - BearerAuth: []
  /v1/categories/{category_id}/transcriptions:
    post:
      description: Add a transcription to a category
      operationId: categories_addTranscriptionToCategory
      tags:
        - Categories
      parameters:
        - name: category_id
          in: path
          description: ID of the category
          required: true
          schema:
            type: string
            format: uuid
      responses:
        "200":
          description: Returns success message
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/AddTranscriptionToCategoryResponse'
        "404":
          description: ""
      security:
        - BearerAuth: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/AddTranscriptionToCategoryRequest'
    get:
      description: Get all transcriptions in a specific category
      operationId: categories_getCategoryTranscriptions
      tags:
        - Categories
      parameters:
        - name: category_id
          in: path
          description: ID of the category
          required: true
          schema:
            type: string
            format: uuid
      responses:
        "200":
          description: ""
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/CategoryTranscription'
        "404":
          description: ""
      security:
        - BearerAuth: []
  /v1/categories/{category_id}/transcriptions/{transcription_id}:
    delete:
      description: Remove a transcription from a category
      operationId: categories_removeTranscriptionFromCategory
      tags:
        - Categories
      parameters:
        - name: category_id
          in: path
          description: ID of the category
          required: true
          schema:
            type: string
            format: uuid
        - name: transcription_id
          in: path
          description: ID of the transcription to remove
          required: true
          schema:
            type: string
            format: uuid
      responses:
        "200":
          description: Returns success message
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/RemoveTranscriptionFromCategoryResponse'
        "404":
          description: ""
      security:
        - BearerAuth: []
  /v1/categories/by-transcription/{transcription_id}:
    get:
      description: Get all categories for a specific transcription
      operationId: categories_getTranscriptionCategories
      tags:
        - Categories
      parameters:
        - name: transcription_id
          in: path
          description: ID of the transcription
          required: true
          schema:
            type: string
            format: uuid
      responses:
        "200":
          description: ""
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/Category'
      security:
        - BearerAuth: []
  /v1/health/:
    get:
      operationId: health_getHealth
      tags:
        - Health
      parameters: []
      responses:
        "200":
          description: ""
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/HealthResponse'
      summary: Get health status
  /v1/link/extract:
    post:
      operationId: link_extract
      tags:
        - Link
      parameters: []
      responses:
        "200":
          description: ""
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/LinkResponse'
        "400":
          description: ""
        "404":
          description: ""
        "500":
          description: ""
      summary: Extract download link from a given URL
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/LinkRequest'
  /v1/link/sites:
    get:
      operationId: link_get-supported-sites
      tags:
        - Link
      parameters: []
      responses:
        "200":
          description: ""
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/Site'
      summary: Get supported sites
  /v1/maishiv/knowledge-base:
    post:
      description: Add a document to the knowledge base.
      operationId: maishiv_addToKnowledgeBase
      tags:
        - Maishiv
      parameters: []
      responses:
        "200":
          description: ""
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/AddKnowledgeBaseDocumentResponse'
        "401":
          description: ""
        "429":
          description: ""
      security:
        - BearerAuth: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/AddKnowledgeBaseDocumentRequest'
    get:
      description: Get all document IDs currently in the knowledge base.
      operationId: maishiv_listKnowledgeBaseDocs
      tags:
        - Maishiv
      parameters: []
      responses:
        "200":
          description: ""
          content:
            application/json:
              schema:
                type: array
                items:
                  type: string
        "401":
          description: ""
        "429":
          description: ""
      security:
        - BearerAuth: []
  /v1/maishiv/knowledge-base/{document_id}:
    delete:
      description: Remove a document from the knowledge base.
      operationId: maishiv_removeFromKnowledgeBase
      tags:
        - Maishiv
      parameters:
        - name: document_id
          in: path
          description: ID of the document to remove from the knowledge base.
          required: true
          schema:
            type: string
      responses:
        "200":
          description: ""
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/RemoveKnowledgeBaseDocumentResponse'
        "401":
          description: ""
        "429":
          description: ""
      security:
        - BearerAuth: []
  /v1/ocr/jobs:
    post:
      description: Create an OCR job for a file already uploaded to Supabase Storage.
      operationId: ocr_createOcrJob
      tags:
        - Ocr
      parameters: []
      responses:
        "200":
          description: ""
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/OcrJobResponse'
        "401":
          description: ""
      security:
        - BearerAuth: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/OcrJobCreateRequest'
  /v1/ocr/jobs/{job_id}:
    get:
      description: Get OCR job status and extracted text for each page.
      operationId: ocr_getOcrJob
      tags:
        - Ocr
      parameters:
        - name: job_id
          in: path
          description: OCR job id.
          required: true
          schema:
            type: string
            format: uuid
      responses:
        "200":
          description: ""
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/OcrJobStatus'
        "401":
          description: ""
        "404":
          description: ""
      security:
        - BearerAuth: []
  /v1/timestamps/outline:
    post:
      description: |-
        Outline of topics discussed by timestamp, generated end-to-end from a transcription ID.

        This endpoint will:
        1) Fetch the transcript and word-level timestamps for the given transcription
        2) Generate chapter topics (title + starting_phrase) using an LLM from the transcript text
        3) Align each topic's starting phrase to timestamps
      operationId: timestamps_outline
      tags:
        - Timestamps
      parameters: []
      responses:
        "200":
          description: ""
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/OutlineTopic'
        "401":
          description: ""
        "429":
          description: ""
      security:
        - BearerAuth: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/OutlineRequest'
  /v1/timestamps/update-timestamps:
    post:
      description: Update the timestamps based on edited text.
      operationId: timestamps_updateTimestamps
      tags:
        - Timestamps
      parameters: []
      responses:
        "200":
          description: ""
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/Timestamp'
        "401":
          description: ""
        "429":
          description: ""
      security:
        - BearerAuth: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/UpdateTimestampsRequest'
  /v1/transcriptions/:
    post:
      description: Create a new transcription
      operationId: transcribe_createTranscription
      tags:
        - Transcribe
      parameters: []
      responses:
        "200":
          description: |-
            The unique identifier for the newly created transcription.
            Use this ID to check the status of the transcription or to retrieve the transcription result.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/TranscriptionId'
        "401":
          description: ""
        "429":
          description: ""
      security:
        - BearerAuth: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/TranscriptionRequest'
    get:
      description: Get all transcriptions for the authenticated user
      operationId: transcribe_listTranscriptions
      tags:
        - Transcribe
      parameters: []
      responses:
        "200":
          description: ""
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/TranscriptionSummary'
        "401":
          description: ""
        "429":
          description: ""
      security:
        - BearerAuth: []
  /v1/transcriptions/batch:
    post:
      description: |-
        Create multiple transcriptions in a single batch request.

        **Choose a processing mode:**

        - **Express mode**: Transcriptions start immediately. Max 10 files. Higher cost. Pass `audio_sources` directly in the request.
        - **Standard mode**: Transcriptions processed within 24 hours. Max 500 files. Lower cost. First upload a manifest via [Upload Batch File](/api-reference/transcribe/upload-batch-file), then pass the `batch_file_id` here.

        All files in the batch share the same transcription settings (model, language, etc.) defined in `info`.
      operationId: transcribe_createBatchTranscription
      tags:
        - Transcribe
      parameters: []
      responses:
        "200":
          description: Returns the batch ID and individual transcription IDs. Use [Get Batch Status](/api-reference/transcribe/get-batch-status) to track progress.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/BatchTranscriptionResponse'
              examples:
                express_mode:
                  value:
                    batch_id: a1b2c3d4-e5f6-7890-abcd-ef1234567890
                    transcription_ids:
                      - d5e9c84f-c2b2-4bf4-b4b0-7ffd7a9ffc32
                      - e6f0d95a-d3c3-5ca5-c5c1-8aad8b0aad43
                    total_count: 2
                    status: RECEIVED
                standard_mode:
                  value:
                    batch_id: b2c3d4e5-f6a7-8901-bcde-f12345678901
                    transcription_ids:
                      - c7d8e9f0-a1b2-3456-cdef-789012345678
                      - d8e9f0a1-b2c3-4567-def0-890123456789
                      - e9f0a1b2-c3d4-5678-ef01-901234567890
                    total_count: 3
                    status: RECEIVED
        "401":
          description: ""
        "429":
          description: ""
      security:
        - BearerAuth: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/BatchTranscriptionRequest'
            examples:
              express_mode:
                value:
                  audio_sources:
                    - audio_url: https://example.com/audio1.mp3
                      title: Rabbi Cohen's Shiur on Shabbos
                    - audio_url: https://example.com/audio2.mp3
                      title: Rabbi Cohen's Shiur on Kashrus
                  info:
                    model: v1
                    primary_language: en
                    hebrew_word_format:
                      - en
                      - he
                    num_speakers: 1
                  batch_title: Rabbi Cohen Shiurim
                  processing_mode: express
              standard_mode:
                value:
                  batch_file_id: f1234567-89ab-cdef-0123-456789abcdef
                  info:
                    model: v1
                    primary_language: en
                    hebrew_word_format:
                      - en
                      - he
                    num_speakers: 1
                  batch_title: Weekly Shiurim Collection
                  processing_mode: standard
  /v1/transcriptions/batch-files:
    post:
      description: |-
        Upload a batch manifest containing audio URLs for standard mode batch processing.

        **Workflow:**
        1. Upload your manifest here to get a `batch_file_id`
        2. Use that ID in [Create Batch Transcription](/api-reference/transcribe/create-batch-transcription) with `processing_mode: "standard"`

        The manifest is a list of audio sources (max 500), each with a URL and optional title. You can provide it as a JSON array or JSONL format.
      operationId: transcribe_uploadBatchFile
      tags:
        - Transcribe
      parameters: []
      responses:
        "200":
          description: ""
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/BatchFileUploadResponse'
              examples:
                json_format:
                  value:
                    batch_file_id: a1b2c3d4-e5f6-7890-abcd-ef1234567890
                    item_count: 3
                    size_bytes: 256
                    created_at: "2024-01-15T09:30:00Z"
                    status: VALID
                jsonl_format:
                  value:
                    batch_file_id: b2c3d4e5-f6a7-8901-bcde-f12345678901
                    item_count: 2
                    size_bytes: 128
                    created_at: "2024-01-15T09:30:00Z"
                    status: VALID
        "401":
          description: ""
        "429":
          description: ""
      security:
        - BearerAuth: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/BatchFileUploadRequest'
            examples:
              json_format:
                value:
                  content_type: json
                  json_items:
                    - audio_url: https://example.com/shiur1.mp3
                      title: Parshas Bereishis - Rabbi Cohen
                    - audio_url: https://example.com/shiur2.mp3
                      title: Parshas Noach - Rabbi Cohen
                    - audio_url: https://example.com/shiur3.mp3
                      title: Parshas Lech Lecha - Rabbi Cohen
                  metadata:
                    title: Rabbi Cohen Weekly Parsha Series
                    description: Shiurim from Fall 2024
              jsonl_format:
                value:
                  content_type: jsonl
                  jsonl: |-
                    {"audio_url": "https://example.com/shiur1.mp3", "title": "Shiur 1"}
                    {"audio_url": "https://example.com/shiur2.mp3", "title": "Shiur 2"}
    get:
      description: List all batch file manifests you've uploaded. Use this to find a `batch_file_id` for starting a standard mode batch.
      operationId: transcribe_listBatchFiles
      tags:
        - Transcribe
      parameters: []
      responses:
        "200":
          description: ""
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ListBatchFilesResponse'
        "401":
          description: ""
        "429":
          description: ""
      security:
        - BearerAuth: []
  /v1/transcriptions/batch-files/{batch_file_id}:
    get:
      description: Get details about a specific batch file manifest, including its validation status. Check this after uploading to ensure your manifest is valid before starting a batch.
      operationId: transcribe_getBatchFile
      tags:
        - Transcribe
      parameters:
        - name: batch_file_id
          in: path
          description: The batch file ID returned from [Upload Batch File](/api-reference/transcribe/upload-batch-file)
          required: true
          schema:
            type: string
            format: uuid
      responses:
        "200":
          description: ""
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/BatchFileDetail'
        "401":
          description: ""
        "404":
          description: ""
        "429":
          description: ""
      security:
        - BearerAuth: []
  /v1/transcriptions/batch/{batch_id}/status:
    get:
      description: Check the progress of a batch transcription. Returns counts of completed, failed, and pending transcriptions, plus details for each individual transcription.
      operationId: transcribe_getBatchStatus
      tags:
        - Transcribe
      parameters:
        - name: batch_id
          in: path
          description: The batch ID returned from [Create Batch Transcription](/api-reference/transcribe/create-batch-transcription)
          required: true
          schema:
            type: string
            format: uuid
          example: a1b2c3d4-e5f6-7890-abcd-ef1234567890
          examples:
            Example1:
              value: a1b2c3d4-e5f6-7890-abcd-ef1234567890
      responses:
        "200":
          description: ""
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/BatchStatusResponse'
              examples:
                Example1:
                  value:
                    batch_id: a1b2c3d4-e5f6-7890-abcd-ef1234567890
                    status: PROCESSING
                    total_count: 3
                    completed_count: 1
                    failed_count: 0
                    pending_count: 2
                    transcriptions:
                      - id: d5e9c84f-c2b2-4bf4-b4b0-7ffd7a9ffc32
                        title: Shiur 1
                        created_at: "2024-01-15T09:30:00Z"
                        primary_language: en
                        hebrew_word_format:
                          - en
                          - he
                        num_speakers: 1
                        status: COMPLETED
                        duration: 1802.5
                        model: v1
                      - id: e6f0d95a-d3c3-5ca5-c5c1-8aad8b0aad43
                        title: Shiur 2
                        created_at: "2024-01-15T09:30:00Z"
                        primary_language: en
                        hebrew_word_format:
                          - en
                          - he
                        num_speakers: 1
                        status: PROCESSING
                        model: v1
        "401":
          description: ""
        "404":
          description: ""
        "429":
          description: ""
      security:
        - BearerAuth: []
  /v1/transcriptions/{transcription_id}/status:
    get:
      description: Get transcription status
      operationId: transcribe_getTranscriptionStatus
      tags:
        - Transcribe
      parameters:
        - name: transcription_id
          in: path
          description: ID of the transcription. Use the ID returned from the Create Transcription endpoint.
          required: true
          schema:
            type: string
            format: uuid
          example: d5e9c84f-c2b2-4bf4-b4b0-7ffd7a9ffc32
          examples:
            Example1:
              value: d5e9c84f-c2b2-4bf4-b4b0-7ffd7a9ffc32
      responses:
        "200":
          description: ""
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/TranscriptionInfo'
              examples:
                Example1:
                  value:
                    id: d5e9c84f-c2b2-4bf4-b4b0-7ffd7a9ffc32
                    title: My Shiur Transcription
                    created_at: "2024-01-15T09:30:00Z"
                    primary_language: en
                    hebrew_word_format:
                      - en
                      - he
                    num_speakers: 1
                    status: COMPLETED
                    duration: 1802.5
                    model: v1
        "401":
          description: ""
        "404":
          description: ""
        "429":
          description: ""
      security:
        - BearerAuth: []
  /v1/transcriptions/{transcription_id}:
    get:
      description: Get transcription
      operationId: transcribe_getTranscription
      tags:
        - Transcribe
      parameters:
        - name: transcription_id
          in: path
          description: ID of the transcription. Use the ID returned from the Create Transcription endpoint.
          required: true
          schema:
            type: string
            format: uuid
          example: d5e9c84f-c2b2-4bf4-b4b0-7ffd7a9ffc32
          examples:
            Example1:
              value: d5e9c84f-c2b2-4bf4-b4b0-7ffd7a9ffc32
        - name: filter_hebrew_word_format
          in: query
          description: Optionally filter the response to a single Hebrew word format. If set to 'en', the response text will have Hebrew characters removed and timestamps will exclude words tagged with 'he'. If set to 'he', italicized transliterations are removed from the text and timestamps will exclude words tagged only with 'en'. If set to 'hybrid', the response includes both transliteration and Hebrew characters for each word.
          required: false
          schema:
            type: string
            nullable: true
      responses:
        "200":
          description: ""
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Transcription'
              examples:
                Example1:
                  value:
                    text: Welcome to today's <i>shiur</i> שיעור. We will discuss the <i>halacha</i> הלכה regarding...
                    timestamps:
                      - word: Welcome
                        hebrew_word_format: null
                        start: 0
                        end: 0.5
                        speaker: "1"
                      - word: shiur
                        hebrew_word_format:
                          - en
                        start: 2.1
                        end: 2.8
                        speaker: "1"
                    info:
                      id: d5e9c84f-c2b2-4bf4-b4b0-7ffd7a9ffc32
                      title: My Shiur Transcription
                      created_at: "2024-01-15T09:30:00Z"
                      primary_language: en
                      hebrew_word_format:
                        - en
                        - he
                      num_speakers: 1
                      status: COMPLETED
                      duration: 1802.5
                      model: v1
        "401":
          description: ""
        "404":
          description: ""
        "429":
          description: ""
      security:
        - BearerAuth: []
  /v1/transformations/{transcription_id}/summary:
    post:
      description: Generate a Markdown summary for a transcription. If a summary already exists, it is returned.
      operationId: transformations_generateSummary
      tags:
        - Transformations
      parameters:
        - name: transcription_id
          in: path
          description: ID of the transcription to summarize
          required: true
          schema:
            type: string
            format: uuid
      responses:
        "200":
          description: ""
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/TranscriptSummaryResponse'
        "401":
          description: ""
        "404":
          description: ""
      security:
        - BearerAuth: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/GenerateTranscriptSummaryRequest'
    get:
      description: Get the Markdown summary for a transcription if it exists.
      operationId: transformations_getSummary
      tags:
        - Transformations
      parameters:
        - name: transcription_id
          in: path
          description: ID of the transcription to fetch summary for
          required: true
          schema:
            type: string
            format: uuid
      responses:
        "200":
          description: ""
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/TranscriptSummaryResponse'
        "401":
          description: ""
        "404":
          description: ""
      security:
        - BearerAuth: []
  /v1/utils/duration:
    post:
      description: |-
        Returns the audio duration in seconds for a provided URL or base64-encoded file.

        Provide either `audio_url` or `audio_file` (base64). If both are provided, the request is invalid.
      operationId: utils_getDuration
      tags:
        - Utils
      parameters: []
      responses:
        "200":
          description: ""
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/DurationResponse'
        "401":
          description: ""
        "429":
          description: ""
      security:
        - BearerAuth: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/DurationRequest'
components:
  schemas:
    Balance:
      title: Balance
      type: object
      properties:
        total_balance:
          type: integer
          description: The total balance in the account, not subtracting pending charges, represented in cents.
        available_balance:
          type: integer
          description: The available balance after accounting for pending charges, represented in cents. This is the amount that can be used for new transcriptions.
        pending_balance:
          type: integer
          description: The amount of pending charges from transcriptions that are in progress or queued, represented in cents.
        all_time_deposits:
          type: integer
          description: The total amount ever deposited into the account, represented in cents.
        all_time_spend:
          type: integer
          description: The total amount ever spent on completed transcriptions, represented in cents.
      required:
        - total_balance
        - available_balance
        - pending_balance
        - all_time_deposits
        - all_time_spend
    CreateCategoryRequest:
      title: CreateCategoryRequest
      type: object
      properties:
        name:
          type: string
          description: Name of the category
        color_hex:
          type: string
          nullable: true
          description: Hex color code for the category (e.g.,
        description:
          type: string
          nullable: true
          description: Optional description to help categorize transcripts.
        auto_tag_enabled:
          type: boolean
          nullable: true
          description: Whether to automatically tag transcripts that match this category.
      required:
        - name
    UpdateCategoryRequest:
      title: UpdateCategoryRequest
      type: object
      properties:
        name:
          type: string
          nullable: true
          description: New name for the category
        color_hex:
          type: string
          nullable: true
          description: New hex color code for the category (e.g.,
        description:
          type: string
          nullable: true
          description: New description for the category
        auto_tag_enabled:
          type: boolean
          nullable: true
          description: Whether to automatically tag transcripts that match this category
    AddTranscriptionToCategoryRequest:
      title: AddTranscriptionToCategoryRequest
      type: object
      properties:
        transcription_id:
          type: string
          format: uuid
          description: ID of the transcription to add to the category
        position:
          type: integer
          nullable: true
          description: Optional position within the category for ordering
      required:
        - transcription_id
    Category:
      title: Category
      type: object
      properties:
        id:
          type: string
          format: uuid
          description: Unique identifier for the category
        name:
          type: string
          description: Name of the category
        color_hex:
          type: string
          description: Hex color code for the category
        description:
          type: string
          nullable: true
          description: Optional description to help categorize transcripts
        auto_tag_enabled:
          type: boolean
          nullable: true
          description: Whether auto-tagging is enabled for this category
        created_at:
          type: string
          format: date-time
          description: When the category was created
        transcription_count:
          type: integer
          nullable: true
          description: Number of transcriptions in this category
      required:
        - id
        - name
        - color_hex
        - created_at
    CategoryTranscription:
      title: CategoryTranscription
      type: object
      properties:
        id:
          type: string
          format: uuid
          description: ID of the transcription
        title:
          type: string
          description: Title of the transcription
        status:
          type: string
          description: Current status of the transcription
        position:
          type: integer
          nullable: true
          description: Position of this transcription within the category
      required:
        - id
        - title
        - status
    DeleteCategoryResponse:
      title: DeleteCategoryResponse
      type: object
      properties:
        message:
          type: string
          description: Success message
        deleted_id:
          type: string
          format: uuid
          description: ID of the deleted category
      required:
        - message
        - deleted_id
    AddTranscriptionToCategoryResponse:
      title: AddTranscriptionToCategoryResponse
      type: object
      properties:
        message:
          type: string
          description: Success message
        category_id:
          type: string
          format: uuid
          description: ID of the category
        transcription_id:
          type: string
          format: uuid
          description: ID of the transcription
      required:
        - message
        - category_id
        - transcription_id
    RemoveTranscriptionFromCategoryResponse:
      title: RemoveTranscriptionFromCategoryResponse
      type: object
      properties:
        message:
          type: string
          description: Success message
        category_id:
          type: string
          format: uuid
          description: ID of the category
        transcription_id:
          type: string
          format: uuid
          description: ID of the transcription
      required:
        - message
        - category_id
        - transcription_id
    HealthResponse:
      title: HealthResponse
      type: object
      properties:
        status:
          type: string
          description: Health status
      required:
        - status
    LinkRequest:
      title: LinkRequest
      type: object
      properties:
        url:
          type: string
          description: URL to extract a downloadable link from. This link must originate from a supported site. You can use the get supported sites endpoint to get a list of supported sites.
      required:
        - url
    LinkResponse:
      title: LinkResponse
      type: object
      properties:
        title:
          type: string
          description: Title of the file
        download_url:
          type: string
          description: Download URL of the file
        file_format:
          type: string
          description: Format of the file
        file_name:
          type: string
          description: Name of the file
      required:
        - title
        - download_url
        - file_format
        - file_name
    Site:
      title: Site
      type: object
      properties:
        name:
          type: string
          description: Name of the site
        url:
          type: string
          description: URL of the site
      required:
        - name
        - url
    AudioChunk:
      title: AudioChunk
      type: object
      description: Binary chunk of PCM audio streamed from the client.
      properties:
        data:
          type: string
          description: PCM audio data chunk
        mime_type:
          type: string
      required:
        - data
        - mime_type
    TranscriptChunk:
      title: TranscriptChunk
      type: object
      description: Partial (or final) transcript text streamed from server.
      properties:
        text:
          type: string
      required:
        - text
    AddKnowledgeBaseDocumentRequest:
      title: AddKnowledgeBaseDocumentRequest
      type: object
      properties:
        document_id:
          type: string
          description: ID of the document to add to the knowledge base.
      required:
        - document_id
    AddKnowledgeBaseDocumentResponse:
      title: AddKnowledgeBaseDocumentResponse
      type: object
      properties:
        success:
          type: boolean
          description: True if the document was successfully added.
        message:
          type: string
          nullable: true
          description: Optional message describing the outcome (e.g., already exists).
      required:
        - success
    RemoveKnowledgeBaseDocumentResponse:
      title: RemoveKnowledgeBaseDocumentResponse
      type: object
      properties:
        success:
          type: boolean
          description: True if the document was successfully removed or was not present.
        message:
          type: string
          nullable: true
          description: Optional message describing the outcome (e.g., not found).
      required:
        - success
    OcrJobCreateRequest:
      title: OcrJobCreateRequest
      type: object
      properties:
        job_id:
          type: string
          format: uuid
          nullable: true
          description: Optional job id. Provide this when you pre-allocate a storage path using the job id.
        storage_path:
          type: string
          description: Path to the uploaded file within the OCR storage bucket.
        file_name:
          type: string
          nullable: true
          description: Original file name.
        content_type:
          type: string
          nullable: true
          description: MIME type of the uploaded file (e.g., application/pdf, image/png).
        file_kind:
          type: string
          nullable: true
          description: Optional hint for file type (pdf or image).
        model:
          type: string
          nullable: true
          description: OCR mode to use. "normal" for standard documents, "enhanced" for difficult texts like Rashi script or low quality scans.
      required:
        - storage_path
    OcrJobResponse:
      title: OcrJobResponse
      type: object
      properties:
        job_id:
          type: string
          format: uuid
          description: OCR job id.
        file_name:
          type: string
          nullable: true
          description: Original file name.
      required:
        - job_id
    OcrPage:
      title: OcrPage
      type: object
      properties:
        page_num:
          type: integer
          description: 1-indexed page number.
        content:
          type: string
          nullable: true
          description: OCR output for the page (Markdown).
      required:
        - page_num
    OcrJobStatus:
      title: OcrJobStatus
      type: object
      properties:
        job_id:
          type: string
          format: uuid
          description: OCR job id.
        file_name:
          type: string
          nullable: true
          description: Original file name.
        created_at:
          type: string
          format: date-time
          nullable: true
          description: Job creation time.
        num_pages:
          type: integer
          nullable: true
          description: Total number of pages detected.
        status:
          type: string
          description: Job status (PENDING, PROCESSING, COMPLETED).
        pages:
          type: array
          items:
            $ref: '#/components/schemas/OcrPage'
          description: OCR output by page.
      required:
        - job_id
        - status
        - pages
    Confidence:
      title: Confidence
      type: string
      enum:
        - HIGH
        - MEDIUM
        - LOW
        - NONE
    OutlineRequest:
      title: OutlineRequest
      type: object
      properties:
        transcription_id:
          $ref: '#/components/schemas/TranscriptionId'
          description: ID of the transcription to process end-to-end
        monotone:
          type: boolean
          nullable: true
          description: If true, each topic is searched after the previous topic's start (with a small backoff)
        conclusion_bias:
          type: boolean
          nullable: true
          description: If true and a title includes the word "conclusion", search in the last third of the audio
      required:
        - transcription_id
    OutlineTopic:
      title: OutlineTopic
      type: object
      properties:
        title:
          type: string
          description: Title of the topic
        starting_phrase:
          type: string
          description: Starting phrase that was searched for
        start_time_sec:
          type: integer
          format: float
          nullable: true
          description: Start time in seconds for the best-aligned phrase (if found)
        matched_text:
          type: string
          description: The transcript text segment best matching the starting phrase
        score_norm:
          type: number
          format: double
          description: Normalized alignment score in [0,1]
        confidence:
          $ref: '#/components/schemas/Confidence'
          description: Confidence bucket derived from the normalized score
        token_span:
          type: array
          items:
            type: integer
          nullable: true
          description: Optional span of token indices [start, end) for the best match
        matched_content:
          type: integer
          nullable: true
          description: Number of matched content tokens (excludes stopwords/fillers)
        content_coverage:
          type: integer
          format: float
          nullable: true
          description: Fraction of content tokens in the phrase that were matched
        longest_content_run_soft:
          type: integer
          nullable: true
          description: Longest soft contiguous run of content-token matches
        longest_content_run_strict:
          type: integer
          nullable: true
          description: Longest strict contiguous run of content-token matches
      required:
        - title
        - starting_phrase
        - matched_text
        - score_norm
        - confidence
    UpdateTimestampsRequest:
      title: UpdateTimestampsRequest
      type: object
      properties:
        old_timestamps:
          type: array
          items:
            $ref: '#/components/schemas/Timestamp'
          description: The original timestamps associated with the text before editing. These will be used as reference points to align the new timestamps.
        edited_text:
          type: string
          description: The modified version of the transcription text that needs updated timestamp alignments. This should be the complete text after your edits.
        language_to_update:
          $ref: '#/components/schemas/Language'
          nullable: true
          description: If hebrew_word_format included both 'en' and 'he' (and therefor, for the same word there is both an English and a Hebrew version),this specifies which language version of the timestamps to update. Must be either 'en' for English or 'he' for Hebrew timestamps.
      required:
        - old_timestamps
        - edited_text
    TranscriptionRequest:
      title: TranscriptionRequest
      type: object
      properties:
        audio_url:
          type: string
          nullable: true
          description: URL to a downloadable audio file. Must be a direct link to the file (not a streaming or preview link). If the URL is not directly downloadable, consider using our Link API to extract a downloadable link from supported sites. Either audio_url or audio_file must be provided, but not both.
        audio_file:
          type: string
          nullable: true
          description: |-
            Base64 encoded audio file content. Either audio_url or audio_file must be provided, but not both.

            ## Base64 Encoding Example

            **Python:**
            ```python
            import base64
            from soferai import SoferAI

            # Initialize client
            client = SoferAI(api_key="your_api_key_here")

            # Read and encode audio file
            with open("audio.mp3", "rb") as f:
                base64_audio = base64.b64encode(f.read()).decode('utf-8')

            # Create transcription request
            response = client.transcribe.create_transcription(
                audio_file=base64_audio,
                info={
                    "model": "v1",
                    "primary_language": "en",
                    "hebrew_word_format": ["he"],
                    "title": "My Shiur Transcription"
                }
            )

            print(f"Transcription ID: {response}")
            ```
        info:
          $ref: '#/components/schemas/TranscriptionRequestInfo'
          description: Transcription parameters
      required:
        - info
    BatchTranscriptionRequest:
      title: BatchTranscriptionRequest
      type: object
      description: Request body for creating a batch transcription. Use either `batch_file_id` (standard mode) or `audio_sources` (express mode), not both.
      properties:
        processing_mode:
          $ref: '#/components/schemas/ProcessingMode'
          nullable: true
          description: |-
            Choose how the batch is processed:
            - `standard` (default): Lower cost, processed within 24 hours. Max 500 files. Use with `batch_file_id`.
            - `express`: Higher cost, starts immediately. Max 10 files. Use with `audio_sources`.
        batch_file_id:
          type: string
          format: uuid
          nullable: true
          description: |-
            **For standard mode only.** ID of a previously uploaded batch manifest.

            Get this by calling [Upload Batch File](/api-reference/transcribe/upload-batch-file) first.
        audio_sources:
          type: array
          items:
            $ref: '#/components/schemas/BatchAudioSource'
          nullable: true
          description: |-
            **For express mode only.** List of audio URLs to transcribe (max 10).

            Each item needs an `audio_url` and can optionally include a `title`.
        info:
          $ref: '#/components/schemas/TranscriptionRequestInfo'
          description: Transcription settings applied to all files in the batch (model, language, etc.)
        batch_title:
          type: string
          nullable: true
          description: Default title prefix for transcriptions. Individual items can override this. Items without titles become "{batch_title} - Item 1", "{batch_title} - Item 2", etc.
        batch_id:
          type: string
          format: uuid
          nullable: true
          description: Custom UUID for this batch. Auto-generated if not provided.
      required:
        - info
    BatchTranscriptionResponse:
      title: BatchTranscriptionResponse
      type: object
      description: Response after successfully creating a batch transcription.
      properties:
        batch_id:
          type: string
          format: uuid
          description: Use this ID to check batch progress via [Get Batch Status](/api-reference/transcribe/get-batch-status)
          example: a1b2c3d4-e5f6-7890-abcd-ef1234567890
        transcription_ids:
          type: array
          items:
            $ref: '#/components/schemas/TranscriptionId'
          description: IDs for each transcription in the batch. Use these to retrieve individual results via [Get Transcription](/api-reference/transcribe/get-transcription)
        total_count:
          type: integer
          description: Number of transcriptions created
          example: 2
        status:
          $ref: '#/components/schemas/BatchStatus'
          description: Initial batch status (typically `RECEIVED`)
      required:
        - batch_id
        - transcription_ids
        - total_count
        - status
    BatchStatusResponse:
      title: BatchStatusResponse
      type: object
      description: Detailed progress of a batch transcription.
      properties:
        batch_id:
          type: string
          format: uuid
          description: ID of this batch
          example: a1b2c3d4-e5f6-7890-abcd-ef1234567890
        status:
          $ref: '#/components/schemas/BatchStatus'
          description: Overall batch status
        total_count:
          type: integer
          description: Total transcriptions in batch
          example: 3
        completed_count:
          type: integer
          description: Successfully completed
          example: 1
        failed_count:
          type: integer
          description: Failed transcriptions
          example: 0
        pending_count:
          type: integer
          description: Still processing or queued
          example: 2
        transcriptions:
          type: array
          items:
            $ref: '#/components/schemas/TranscriptionInfo'
          description: Status details for each transcription in the batch
      required:
        - batch_id
        - status
        - total_count
        - completed_count
        - failed_count
        - pending_count
        - transcriptions
    BatchStatus:
      title: BatchStatus
      type: string
      enum:
        - RECEIVED
        - PROCESSING
        - COMPLETED
        - FAILED
      description: Overall status of a batch transcription job.
    ProcessingMode:
      title: ProcessingMode
      type: string
      enum:
        - standard
        - express
      description: Determines cost and processing speed for batch transcriptions.
    BatchFileContentType:
      title: BatchFileContentType
      type: string
      enum:
        - json
        - jsonl
      description: Format of the batch manifest payload.
    BatchFileStatus:
      title: BatchFileStatus
      type: string
      enum:
        - PENDING_VALIDATION
        - VALID
        - INVALID
      description: Validation status of an uploaded batch manifest.
    BatchFileMetadata:
      title: BatchFileMetadata
      type: object
      description: Optional metadata for organizing batch files.
      properties:
        title:
          type: string
          nullable: true
          description: Name for this batch manifest
        description:
          type: string
          nullable: true
          description: Notes or description
    BatchFileUploadRequest:
      title: BatchFileUploadRequest
      type: object
      description: |-
        Upload a manifest of audio URLs for standard mode batch processing.
        Use either `json_items` (JSON array) or `jsonl` (newline-delimited), not both.
        Maximum 500 audio sources per manifest.
      properties:
        content_type:
          $ref: '#/components/schemas/BatchFileContentType'
          description: Format of your manifest data
        json_items:
          type: array
          items:
            $ref: '#/components/schemas/BatchAudioSource'
          nullable: true
          description: '**For JSON format.** Array of audio sources to transcribe (max 500).'
        jsonl:
          type: string
          nullable: true
          description: |-
            **For JSONL format.** One audio source per line as JSON, separated by newlines (max 500 lines).

            Example: `{"audio_url": "https://..."}\n{"audio_url": "https://..."}`
        metadata:
          $ref: '#/components/schemas/BatchFileMetadata'
          nullable: true
          description: Optional title and description for this manifest
      required:
        - content_type
    BatchFileUploadResponse:
      title: BatchFileUploadResponse
      type: object
      description: Response after uploading a batch manifest.
      properties:
        batch_file_id:
          type: string
          format: uuid
          description: Use this ID when calling [Create Batch Transcription](/api-reference/transcribe/create-batch-transcription) with standard mode
          example: a1b2c3d4-e5f6-7890-abcd-ef1234567890
        item_count:
          type: integer
          description: Number of audio sources in the manifest
          example: 3
        size_bytes:
          type: integer
          description: Size of the manifest in bytes
          example: 256
        checksum:
          type: string
          nullable: true
          description: SHA256 checksum of the manifest
        created_at:
          type: string
          format: date-time
          description: Upload timestamp
          example: "2024-01-15T09:30:00Z"
        status:
          $ref: '#/components/schemas/BatchFileStatus'
          description: Validation status. Wait for `VALID` before starting a batch.
        validation_errors:
          type: array
          items:
            type: string
          nullable: true
          description: If status is `INVALID`, lists what's wrong with the manifest
      required:
        - batch_file_id
        - item_count
        - size_bytes
        - created_at
        - status
    BatchFileSummary:
      title: BatchFileSummary
      type: object
      description: Summary of an uploaded batch manifest.
      properties:
        id:
          type: string
          format: uuid
          description: Batch file ID
        created_at:
          type: string
          format: date-time
          description: Upload timestamp
        item_count:
          type: integer
          description: Number of audio sources
        size_bytes:
          type: integer
          description: Manifest size in bytes
        status:
          $ref: '#/components/schemas/BatchFileStatus'
          description: Validation status
        checksum:
          type: string
          nullable: true
          description: SHA256 checksum
        title:
          type: string
          nullable: true
          description: Title from metadata
      required:
        - id
        - created_at
        - item_count
        - size_bytes
        - status
    BatchFileDetail:
      title: BatchFileDetail
      type: object
      description: Full details of an uploaded batch manifest.
      properties:
        id:
          type: string
          format: uuid
          description: Batch file ID
        created_at:
          type: string
          format: date-time
          description: Upload timestamp
        item_count:
          type: integer
          description: Number of audio sources
        size_bytes:
          type: integer
          description: Manifest size in bytes
        status:
          $ref: '#/components/schemas/BatchFileStatus'
          description: Validation status
        checksum:
          type: string
          nullable: true
          description: SHA256 checksum
        title:
          type: string
          nullable: true
          description: Title from metadata
        description:
          type: string
          nullable: true
          description: Description from metadata
        validation_errors:
          type: array
          items:
            type: string
          nullable: true
          description: If status is `INVALID`, lists what's wrong
      required:
        - id
        - created_at
        - item_count
        - size_bytes
        - status
    ListBatchFilesResponse:
      title: ListBatchFilesResponse
      type: object
      properties:
        files:
          type: array
          items:
            $ref: '#/components/schemas/BatchFileSummary'
          description: Your uploaded batch manifests
        next_cursor:
          type: string
          nullable: true
          description: Pagination cursor (if more results exist)
      required:
        - files
    Language:
      title: Language
      type: string
      enum:
        - en
        - he
        - yi
    LettersLanguage:
      title: LettersLanguage
      type: string
      enum:
        - en
        - he
        - hybrid
    TranscriptionId:
      title: TranscriptionId
      type: string
      format: uuid
      description: ID of the transcription
    Status:
      title: Status
      type: string
      enum:
        - RECEIVED
        - PENDING
        - PROCESSING
        - COMPLETED
        - CANCELLED
        - FAILED
        - UPLOADED
        - INSUFFICIENT_FUNDS
    TranscriptionRequestInfo:
      title: TranscriptionRequestInfo
      type: object
      properties:
        model:
          type: string
          nullable: true
          description: |-
            Model to be used for the transcription. Default is "v1".
            - v1: Our latest and most accurate model, especially for audio with longer stretches of Hebrew.
            Priced at 1.20 USD per hour of audio transcribed.
            - v0: Not generally recommended. Cheaper, but less accurate.
            Priced at 1.00 USD per hour.
        id:
          $ref: '#/components/schemas/TranscriptionId'
          nullable: true
          description: ID of the transcription. If passed, it will be set as the ID. If not, a UUID will be generated.
        title:
          type: string
          nullable: true
          description: Title for the transcription, Default is "Untitled"
        primary_language:
          $ref: '#/components/schemas/Language'
          nullable: true
          description: |-
            Specifies the primary language spoken in the audio content. Default is English.
            - en: English
            - he: Hebrew
            - yi: Yiddish
        hebrew_word_format:
          type: array
          items:
            $ref: '#/components/schemas/LettersLanguage'
          nullable: true
          description: |-
            Relevant only if the primary language is English. This setting determines how non-English word, are formatted in the transcription.
            - To include Hebrew words in their original Hebrew letters, specify "he".
            - To transliterate Hebrew words into English letters, specify "en".
            - If both "he" and "en" are specified, each Hebrew word will be provided in both formats, with the transliteration in <i> tags.
            - If the primary language is English, the default is to include both English transliteration and original Hebrew letters ("en" and "he").
            - If the primary language is not English, the default and only option is to include Hebrew words in their original Hebrew letters ("he").
        num_speakers:
          type: integer
          nullable: true
          description: Expected number of speakers in the audio. Default is 1. If a number more than 1 is passed, it will be used for speaker labeling (a pro feature).
    TranscriptionInfo:
      title: TranscriptionInfo
      type: object
      properties:
        id:
          $ref: '#/components/schemas/TranscriptionId'
          description: ID of the transcription
        title:
          type: string
          description: Title of the transcription
          example: My Shiur Transcription
        created_at:
          type: string
          format: date-time
          description: When the transcription was created
          example: "2024-01-15T09:30:00Z"
        primary_language:
          $ref: '#/components/schemas/Language'
          description: The primary language of the audio content, which can be English (en), Hebrew (he), or Yiddish (yi).
        hebrew_word_format:
          type: array
          items:
            $ref: '#/components/schemas/LettersLanguage'
          description: |-
            Indicates how Hebrew words are transcribed in the response when the primary language is English.
            - Hebrew words are in Hebrew letters if "he" is specified.
            - Hebrew words are transliterated into English letters if "en" is specified.
            - If both "he" and "en" are specified, both versions are provided back-to-back for each Hebrew word.
            Transliterated Hebrew words are surrounded by <i> tags in the response text.
        num_speakers:
          type: integer
          description: Number of speakers in the audio. If more than 1, then speaker labeling is enabled (a pro feature).
          example: 1
        status:
          $ref: '#/components/schemas/Status'
          description: Current status of the transcription
        duration:
          type: integer
          format: float
          nullable: true
          description: Duration of the audio in seconds. If None, it means the duration was not calculated yet.
        model:
          type: string
          nullable: true
          description: Model used for the transcription. V1 is the latest and most accurate model, especially for audio with longer stretches of Hebrew. V0 is suitable for audio with fewer Hebrew words.
      required:
        - id
        - title
        - created_at
        - primary_language
        - hebrew_word_format
        - num_speakers
        - status
    Transcription:
      title: Transcription
      type: object
      properties:
        text:
          type: string
          description: This field contains the transcription text. If the `primary_language` is English and only one `hebrew_word_format` is specified, the text will be in English with Hebrew words in the specified format. If multiple `hebrew_word_format` options are set, Hebrew words will appear in both formats, with the English transliteration in <i>Italics</i>. If the primary language is Hebrew, the text will be in Hebrew.
          example: Welcome to today's <i>shiur</i> שיעור. We will discuss the <i>halacha</i> הלכה regarding...
        timestamps:
          type: array
          items:
            $ref: '#/components/schemas/Timestamp'
          nullable: true
          description: Timestamps object for the transcription. See the `timestamps` object for more details.
        info:
          $ref: '#/components/schemas/TranscriptionInfo'
          description: Additional information about the transcription
      required:
        - text
        - info
    Timestamp:
      title: Timestamp
      type: object
      properties:
        word:
          type: string
          description: Word
        hebrew_word_format:
          type: array
          items:
            $ref: '#/components/schemas/LettersLanguage'
          nullable: true
          description: Specifies the format of Hebrew words in the transcription. Hebrew words are denoted as "he" for Hebrew letters or "en" for English transliteration. Non-Hebrew words are represented by null.
        start:
          type: number
          format: double
          description: Start time of the timestamp
        end:
          type: number
          format: double
          description: End time of the timestamp
        speaker:
          type: string
          nullable: true
          description: If speaker labeling was requested, indicates which speaker number spoke this word (Pro feature)
      required:
        - word
        - start
        - end
    BatchAudioSource:
      title: BatchAudioSource
      type: object
      description: A single audio file in a batch manifest.
      properties:
        audio_url:
          type: string
          description: Direct download URL to the audio file (MP3, WAV, etc.)
        title:
          type: string
          nullable: true
          description: Title for this transcription. Falls back to batch_title or auto-generated "Item 1", "Item 2", etc.
        id:
          $ref: '#/components/schemas/TranscriptionId'
          nullable: true
          description: Custom UUID for this transcription. Auto-generated if not provided.
      required:
        - audio_url
    TranscriptionSummary:
      title: TranscriptionSummary
      type: object
      properties:
        id:
          $ref: '#/components/schemas/TranscriptionId'
          description: ID of the transcription
        title:
          type: string
          description: Title of the transcription
        status:
          $ref: '#/components/schemas/Status'
          description: Current status of the transcription
      required:
        - id
        - title
        - status
    GenerateTranscriptSummaryRequest:
      title: GenerateTranscriptSummaryRequest
      type: object
      properties:
        transcription_id:
          type: string
          format: uuid
          description: ID of the transcription to summarize
      required:
        - transcription_id
    TranscriptSummaryResponse:
      title: TranscriptSummaryResponse
      type: object
      properties:
        summary:
          type: string
          description: Markdown summary of the transcription
      required:
        - summary
    DurationRequest:
      title: DurationRequest
      type: object
      properties:
        audio_url:
          type: string
          nullable: true
          description: Direct URL to a downloadable audio file.
        audio_file:
          type: string
          nullable: true
          description: Base64-encoded audio file content. Do not include a data URI prefix.
    DurationResponse:
      title: DurationResponse
      type: object
      properties:
        duration_seconds:
          type: number
          format: double
          description: Duration of the audio in seconds. Returns 0 if the duration cannot be determined.
      required:
        - duration_seconds
  securitySchemes:
    BearerAuth:
      type: http
      scheme: bearer
servers:
  - url: https://api.sofer.ai
    description: Production
  - url: https://api-staging.sofer.ai
    description: Staging
  - url: http://localhost:8001
    description: Development
